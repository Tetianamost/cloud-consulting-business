version: 1.0
runtime: docker
build:
  commands:
    build:
      - echo "Docker build managed by App Runner"
run:
  runtime-version: docker
  command: /usr/bin/supervisord -c /etc/supervisor/conf.d/supervisord.conf
  network:
    port: 80
    env: PORT
  env:
    - name: PORT
      value: "80"
    - name: GIN_MODE
      value: "release"
    - name: CHAT_MODE
      value: "polling"
    - name: AWS_REGION
      value: "us-east-1"
    - name: BEDROCK_REGION
      value: "us-east-1"
    - name: BEDROCK_MODEL_ID
      value: "amazon.nova-lite-v1:0"
    - name: AWS_SES_REGION
      value: "us-east-1"
    - name: SES_SENDER_EMAIL
      value: "info@cloudpartner.pro"
    - name: CORS_ALLOWED_ORIGINS
      value: "https://cloudpartner.pro,https://www.cloudpartner.pro"
    - name: DATABASE_URL
      value: "postgresql://postgres:CloudConsulting2024!@consulting-prod.c2v4ggsygj4q.us-east-1.rds.amazonaws.com:5432/postgres"
    - name: JWT_SECRET
      value: "TEMP_JWT_SECRET_TO_BE_UPDATED"
